{% extends "base.html" %}

{% block title %}Registrar Usuário{% endblock %}

{% block content %}
  <div style="max-width: 400px; margin: 40px auto; background: #fff; padding: 30px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
    <h2 style="text-align:center;">Registrar</h2>

    <!-- MENSAGENS -->
    {% if messages %}
      <ul style="padding-left: 20px; margin-bottom: 15px;">
        {% for message in messages %}
          <li
            {% if message.tags %} class="{{ message.tags }}"{% endif %}
            style="color: {% if message.tags == 'success' %}green{% else %}red{% endif %}; font-weight: bold;"
          >
            {{ message }}
          </li>
        {% endfor %}
      </ul>
    {% endif %}

    <form method="POST">
      {% csrf_token %}
      <div style="margin-bottom: 15px;">
        <input type="text" name="username" placeholder="Usuário" required style="width: 100%; padding: 10px;">
      </div>
      <div style="margin-bottom: 15px;">
        <input type="password" name="password1" placeholder="Senha" required style="width: 100%; padding: 10px;">
      </div>
      <div style="margin-bottom: 15px;">
        <input type="password" name="password2" placeholder="Confirmar senha" required style="width: 100%; padding: 10px;">
      </div>
      <button type="submit" style="width: 100%; padding: 10px; background-color: #222; color: #fff; border: none; border-radius: 5px; cursor: pointer;">
        Registrar
      </button>
    </form>
  </div>

  <!-- Redirecionamento após sucesso -->
  {% if redirect_after_success %}
    <script>
      setTimeout(function () {
        window.location.href = "{% url 'login' %}";
      }, 1000);
    </script>
  {% endif %}
{% endblock %}
